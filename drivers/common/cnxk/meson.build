# SPDX-License-Identifier: BSD-3-Clause
# Copyright(c) 2021 Marvell, Inc
#

if is_windows
	build = false
	reason = 'not supported on Windows'
	subdir_done()
endif

if not dpdk_conf.get('RTE_ARCH_64')
	build = false
	reason = 'only supported on 64-bit'
	subdir_done()
endif

config_flag_fmt = 'RTE_LIBRTE_@0@_COMMON'
deps = ['eal', 'pci', 'bus_pci', 'mbuf']
sources = files('roc_dev.c',
		'roc_idev.c',
		'roc_irq.c',
		'roc_mbox.c',
		'roc_model.c',
		'roc_nix.c',
		'roc_nix_debug.c',
		'roc_nix_irq.c',
		'roc_nix_mac.c',
		'roc_nix_mcast.c',
		'roc_nix_npc.c',
		'roc_nix_ptp.c',
		'roc_nix_queue.c',
		'roc_nix_rss.c',
		'roc_nix_stats.c',
		'roc_nix_vlan.c',
		'roc_npa.c',
		'roc_npa_debug.c',
		'roc_npa_irq.c',
		'roc_platform.c',
		'roc_utils.c')
includes += include_directories('../../bus/pci')
